/**
 * Machine-JS Created by Tedy Warsitha, http://codeorig.in/
 */(function(e){function d(){e("#hint").addClass("armed")}function v(){e("#primary-nav").addClass("armed")}function m(){e("#frontoverlay").addClass("armed")}function g(){e("#frontoverlay").find(".inner").addClass("armed")}function y(){e("#eye").addClass("armed")}function b(){e("#eye").removeClass("armed");e("#time-container").find(".focus").addClass("armed")}function w(){e("#frontoverlay").remove()}function E(){var t=e("#socialicons").find("li").length;if(t-u>=0){e("#socialicons").find("li").eq(u).addClass("armed");u++;requestTimeout(E,250)}}function S(){var t=e("#top-bar").find(".menu-item").length;if(t-a>=0){e("#top-bar").find(".menu-item").eq(a).addClass("armed");a++;requestTimeout(S,400)}}function x(){var e=new Date,t=new Date($datestring);numMonths=(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate();timeDiff=(t-e)/1e3;months=Math.floor(timeDiff/86400/numMonths);days=Math.floor(timeDiff/86400)%numMonths;hours=Math.floor(timeDiff/3600)%24;minutes=Math.floor(timeDiff/60)%60;seconds=Math.floor(timeDiff%60)}function T(e,t,n){if(n!=0)var r=t.data("rotation")+e;else var r=0+e;t.css({"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)","-ms-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)",zoom:1}).data("rotation",r)}function N(){x();T(-t*seconds,e("#seconds"),0);T(-r*minutes,e("#minutes"),0);T(-i*hours,e("#hours"),0);T(-s*days,e("#days"),0);T(-o*months,e("#months"),0);e("#time").find("span").removeClass("active");e("#seconds").find("span").eq(seconds-1).addClass("active");e("#minutes").find("span").eq(minutes-1).addClass("active");e("#hours").find("span").eq(hours-1).addClass("active");e("#days").find("span").eq(days-1).addClass("active");e("#months").find("span").eq(months-1).addClass("active")}function C(){if(Math.floor(seconds)>=1){seconds--;if(seconds<10)var t="0"+seconds;else var t=seconds;e("#small-timer").text("00:00:"+t);requestTimeout(C,1e3)}}function k(){var n=new Date,u=new Date($datestring),a=(u-n)/1e3,f=e("#months"),l=e("#days"),c=e("#hours"),h=e("#minutes"),p=e("#seconds");if(Math.floor(a)<=60){b();C()}else{seconds--;if(seconds<=0){if(minutes<=0){if(hours<=0){if(days<=0){days=31;months--;T(o,f);f.find("span").removeClass("active");f.find("span").eq(months-1).addClass("active")}hours=24;days--;T(s,l);l.find("span").removeClass("active");l.find("span").eq(days-1).addClass("active")}minutes=60;hours--;T(i,c);c.find("span").removeClass("active");c.find("span").eq(hours-1).addClass("active")}seconds=60;minutes--;T(r,h);h.find("span").removeClass("active");h.find("span").eq(minutes-1).addClass("active")}T(t,p);p.find("span").removeClass("active");p.find("span").eq(seconds-1).addClass("active");requestTimeout(k,1e3)}}function L(e){this.setCanvas(e);this.x=this.canvasWidth/2;this.y=this.canvasHeight;this.radius=10;this.speed=this.canvasWidth/500;this.angle=Math.PI/2;this.angleDiversion=this.fillStyle="#ffffff";this.generation=0;this.lifespan=0;this.totalDistance=0;this.distance=0}function A(){this.canvas=canvas;this.snakes=[]}function O(){$canvas=binarytree;canvas=$canvas[0];context=canvas.getContext("2d");var e=binarytree.width(),t=binarytree.height();$canvas.attr("width",e);$canvas.attr("height",t);var n=2+Math.random()*3,r=e/50;snakes=new A;for(var i=0;i<n;i++){var s=new L(canvas);s.x=e/2-r+i*r*2/n;s.radius=r;snakes.add(s)}interval=requestInterval(function(){snakes.next()},0)}function M(){if(e(window).scrollTop()>=l.offset().top-e(window).height()*.4){h.addClass("armed");c.addClass("armed")}else{h.removeClass("armed");c.removeClass("armed")}e(window).scrollTop()>=l.offset().top-e(window).height()*.2?p.addClass("armed"):p.removeClass("armed")}function _(t){$datestring=t;requestTimeout(g,100);requestTimeout(m,1400);requestTimeout(w,3e3);requestTimeout(y,1500);requestTimeout(N,2500);requestTimeout(k,2500);requestTimeout(v,3500);requestTimeout(E,4700);requestTimeout(S,6200);requestTimeout(d,7200);e(window).bind("scroll",function(){M()})}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();window.requestInterval=function(e,t){function i(){var s=(new Date).getTime(),o=s-n;if(o>=t){e.call();n=(new Date).getTime()}r.value=requestAnimFrame(i)}if(!window.requestAnimationFrame&&!window.webkitRequestAnimationFrame&&(!window.mozRequestAnimationFrame||!window.mozCancelRequestAnimationFrame)&&!window.oRequestAnimationFrame&&!window.msRequestAnimationFrame)return window.setInterval(e,t);var n=(new Date).getTime(),r=new Object;r.value=requestAnimFrame(i);return r};window.clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)};window.requestTimeout=function(e,t){function i(){var s=(new Date).getTime(),o=s-n;o>=t?e.call():r.value=requestAnimFrame(i)}if(!window.requestAnimationFrame&&!window.webkitRequestAnimationFrame&&(!window.mozRequestAnimationFrame||!window.mozCancelRequestAnimationFrame)&&!window.oRequestAnimationFrame&&!window.msRequestAnimationFrame)return window.setTimeout(e,t);var n=(new Date).getTime(),r=new Object;r.value=requestAnimFrame(i);return r};window.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)};L.prototype={setCanvas:function(t){this.canvas=t;this.context=t.getContext("2d");this.$canvas=e(t);this.canvasWidth=$canvas.width();this.canvasHeight=$canvas.height()},next:function(){this.draw();this.iterate();this.randomize();this.split();this.lifespan++;this.die()},draw:function(){var e=this.context;e.save();e.fillStyle=this.fillStyle;e.beginPath();e.moveTo(this.x,this.y);e.arc(this.x,this.y,this.radius,0,2*Math.PI,!0);e.closePath();e.fill();e.restore()},iterate:function(){var e=this.x,t=this.y;this.x+=this.speed*Math.cos(this.angle);this.y+=this.speed*-Math.sin(this.angle);this.radius*=.99-this.generation/250;var n=Math.sqrt(Math.abs(e-this.x)+Math.abs(t-this.y));this.distance+=n;this.totalDistance+=n;this.speed>this.radius*2&&(this.speed=this.radius*2)},randomize:function(){this.angle+=Math.random()/5-.1},reset:function(t){var n=e(t.canvas),r=30+this.radius,i=n.width(),s=n.height();if(this.x<-r||this.x>i+r||this.y<-r||this.y>s+r){this.y=s;var o=Math.floor(Math.random()*255).toString(16);this.fillStyle="#"+o+o+o}},split:function(){var e=0;this.generation==0?e=(this.distance-this.canvasHeight/5)/100:this.generation<3&&(e=(this.distance-this.canvasHeight/10)/100);if(Math.random()<e){var t=2+Math.round(Math.random()*2);for(var n=0;n<t;n++){var r=new L(this.canvas);r.x=this.x;r.y=this.y;r.angle=this.angle;r.speed=this.speed;r.radius=this.radius*.9;r.generation=this.generation+1;r.fillStyle=this.fillStyle;r.totalDistance=this.totalDistance;this.collection.add(r)}this.collection.remove(this)}},die:function(){this.radius<.2&&this.collection.remove(this)}};A.prototype={next:function(){n=this.snakes.length;for(var e in this.snakes){var t=this.snakes[e];this.snakes[e]&&this.snakes[e].next()}},add:function(e){this.snakes.push(e);e.collection=this},remove:function(e){for(var t in this.snakes)this.snakes[t]===e&&this.snakes.splice(t,1)}};var t=6,r=6,i=15,s=11.61290323,o=30,u=0,a=0,f=e("#hint"),l=e("#biglogo"),c=e("#filledlogo"),h=e("#hollowlogo"),p=e(".logosphere");e(window).load(function(){_("01/30/2014 10:00:00")})})(jQuery);